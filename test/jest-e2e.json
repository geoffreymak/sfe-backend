{
  "testEnvironment": "node",
  "rootDir": "../",
  "moduleFileExtensions": ["ts", "js", "json"],
  "testMatch": ["<rootDir>/test/**/*.e2e-spec.ts"],
  "transform": {
    "^.+\\.ts$": [
      "ts-jest",
      {
        "tsconfig": {
          "module": "commonjs",
          "moduleResolution": "nodenext",
          "target": "ES2019",
          "esModuleInterop": true,
          "isolatedModules": false,
          "emitDecoratorMetadata": true,
          "experimentalDecorators": true,
          "useDefineForClassFields": false,
          "skipLibCheck": true,
          "strictNullChecks": true,
          "types": ["jest", "node"]
        },
        "useESM": false,
        "diagnostics": false
      }
    ]
  },
  "transformIgnorePatterns": [
    "node_modules/(?!mongodb-memory-server)"
  ],
  "moduleNameMapper": {
    "^ioredis$": "ioredis-mock",
    "^serialport$": "<rootDir>/test/mocks/serialport.ts"
  },
  "setupFiles": ["reflect-metadata"],
  "setupFilesAfterEnv": ["<rootDir>/test/setup/jest-setup.cjs"]
}
